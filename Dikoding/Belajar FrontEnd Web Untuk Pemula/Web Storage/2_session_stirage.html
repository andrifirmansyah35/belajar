<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web session Storage</title>
    <style>
        .content{
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            border: 2px solid black;
            padding: 15px;
        }

        #generateButton{
            margin-top: 5px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="content" align="center">
        <button id="incrementButton">Tambai Nilai</button>
        <button id="clear">Hapus Storage</button>
        <h3>Kamu sudah menekan tombol diatas sebanyak:</h3>
        <h2 id="count">0</h2>
    </div>
    <script>
        const sessionStorageKey = 'PRESS_FREQUENCY'

        // pengecekan apakah session data dengan key count sudah ada
        if(typeof(SessionStorage)){
            if(sessionStorage.getItem(sessionStorageKey) == null){
                // jika item pada session storage belum ada
                // maka akan diberi nilai awal 0
                sessionStorage.setItem(sessionStorageKey,0)
            }
                const incrementButton = document.querySelector('#incrementButton')
                const clearButton = document.querySelector('#clear')
                const countDisplay = document.querySelector('#count')

                // memberikan nilai  item pada session Storage
                countDisplay.innerText = sessionStorage.getItem(sessionStorageKey)

                // Mengupdate nilai item session storage jika tombol ditekan
                    incrementButton.addEventListener('click', function () {
                    let count = sessionStorage.getItem(sessionStorageKey);
                    count++;
                    sessionStorage.setItem(sessionStorageKey, count);
                    countDisplay.innerText = sessionStorage.getItem(sessionStorageKey);
                    // console.log('tombol increment sudah ditekan')
                });


                // Mereset nilai
                clearButton.addEventListener('click',function(){
                    // sessionStorage.setItem(sessionStorageKey,0)  //salah
                    sessionStorage.removeItem(sessionStorageKey)
                    countDisplay.innerText = 0
                })
    }else{
            alert('Browser anda tidak mendukung web storage')
        }

    </script>
</body>
</html>